# Implementierungsplan: Refactoring Gruppen-Management

## Problem
Die Nutzung von `window.prompt()` f√ºr "Neue Gruppe" und "Umbenennen" ist unzuverl√§ssig (wird von manchen Browsern/Einstellungen blockiert). Der User w√ºnscht sich zudem eine Vereinfachung, √§hnlich wie bei den Charakteren.

## Analyse: Charakter-System vs. Gruppen-System
*   **Charaktere:** Werden direkt hinzugef√ºgt ("Neuer Held") oder gew√ºrfelt. Namens√§nderung erfolgt vermutlich noch nicht inline (muss gepr√ºft werden) oder ist implizit.
*   **Gruppen:** Aktuell √ºber Buttons (+, ‚úèÔ∏è, üóëÔ∏è) gesteuert, die `prompt` aufrufen.

## L√∂sungsvorschlag: Inline-Input oder Modal
Wir entfernen `prompt()` komplett und nutzen ein Overlay (Modal) f√ºr Eingaben. Das ist:
1.  **Zuverl√§ssig:** Funktioniert √ºberall (auch mobile PWA).
2.  **Schick:** Passt zum Design der App.
3.  **Erweiterbar:** Erlaubt sp√§ter mehr Optionen.

### UI √Ñnderungen
Wir f√ºgen einen `<dialog>` (oder ein Overlay-Div) in [index.html](file:///C:/Users/Daniel/.gemini/antigravity/brain/665fe787-297a-4306-8902-72487a314dd1/index.html) ein, der f√ºr Texteingaben genutzt wird.

#### Neues Markup (am Ende des Body):
```html
<div id="input-modal" class="fixed inset-0 bg-black/50 hidden flex items-center justify-center z-50">
    <div class="bg-white dark:bg-stone-800 p-6 rounded-xl shadow-xl w-full max-w-sm mx-4">
        <h3 id="modal-title" class="text-xl font-bold mb-4 text-emerald-800 dark:text-emerald-400">Eingabe</h3>
        <input type="text" id="modal-input" class="w-full p-2 border rounded mb-4 dark:bg-stone-900 dark:text-white" autofocus>
        <div class="flex justify-end gap-2">
            <button onclick="closeModal()" class="px-4 py-2 rounded text-stone-600 hover:bg-stone-100">Abbrechen</button>
            <button id="modal-confirm" class="px-4 py-2 rounded bg-emerald-600 text-white hover:bg-emerald-700">OK</button>
        </div>
    </div>
</div>
```

### Logik Anpassung
*   [createNewGroup()](file:///C:/Users/Daniel/.gemini/antigravity/brain/665fe787-297a-4306-8902-72487a314dd1/index.html#425-437) -> √ñffnet Modal -> Bei OK: Erstellt Gruppe.
*   [renameCurrentGroup()](file:///C:/Users/Daniel/.gemini/antigravity/brain/665fe787-297a-4306-8902-72487a314dd1/index.html#455-465) -> √ñffnet Modal (mit altem Namen) -> Bei OK: Speichert Namen.

## User Review Required
> [!IMPORTANT]
> Ich werde `window.prompt` durch ein schickes, zuverl√§ssiges **Modal-Fenster** ersetzen.
> Das l√∂st das Problem, dass der Button "nicht funktioniert" (weil der Browser das Popup blockt).
